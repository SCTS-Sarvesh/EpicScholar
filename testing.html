<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>MacBook Air â€“ Share Knowledge</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        background: radial-gradient(circle at top, #0c0c0c, #000);
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        color: white;
        overflow: hidden;
    }

    .layout {
        display: flex;
        height: 100vh;
    }

    .left {
        flex: 1;
        display: flex;
        align-items: center;
        padding-left: 7vw;
    }

    h1 {
        font-size: 3.2rem;
        font-weight: 600;
        line-height: 1.25;
        letter-spacing: -0.02em;
    }

    h1 span {
        display: block;
        margin-top: 14px;
        font-size: 1.7rem;
        font-weight: 400;
        opacity: 0.85;
    }

    .right {
        flex: 1.2;
    }

    canvas {
        display: block;
    }
</style>
</head>

<body>
<div class="layout">
    <div class="left">
        <h1>
            Share Knowledge:
            <span>Exchange ideas. Ignite curiosity. Socially.</span>
        </h1>
    </div>
    <div class="right" id="scene"></div>
</div>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js";
import { RGBELoader } from "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/loaders/RGBELoader.js";

const container = document.getElementById("scene");

/* Renderer */
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(container.clientWidth, container.clientHeight);
renderer.setPixelRatio(devicePixelRatio);
renderer.outputColorSpace = THREE.SRGBColorSpace;
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.toneMappingExposure = 1.1;
container.appendChild(renderer.domElement);

/* Scene & Camera */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(35, container.clientWidth / container.clientHeight, 0.1, 50);
camera.position.set(0, 1.4, 6);

/* Lighting */
scene.add(new THREE.AmbientLight(0xffffff, 0.35));

const key = new THREE.DirectionalLight(0xffffff, 2.5);
key.position.set(5, 6, 5);
scene.add(key);

const rim = new THREE.DirectionalLight(0xffffff, 1.4);
rim.position.set(-5, 3, -5);
scene.add(rim);

/* HDR Environment */
new RGBELoader().load(
    "https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/1k/studio_small_09_1k.hdr",
    hdr => {
        hdr.mapping = THREE.EquirectangularReflectionMapping;
        scene.environment = hdr;
    }
);

/* MACBOOK AIR GROUP */
const macbook = new THREE.Group();

/* Aluminum material */
const aluminum = new THREE.MeshStandardMaterial({
    color: 0xd6d6d6,
    metalness: 0.95,
    roughness: 0.25
});

/* Bottom chassis */
const base = new THREE.Mesh(
    new THREE.BoxGeometry(3.04, 0.11, 2.15),
    aluminum
);
macbook.add(base);

/* Trackpad */
const trackpad = new THREE.Mesh(
    new THREE.BoxGeometry(1.4, 0.01, 0.9),
    new THREE.MeshStandardMaterial({ color: 0xbfbfbf, roughness: 0.4 })
);
trackpad.position.set(0, 0.065, 0.25);
macbook.add(trackpad);

/* Keyboard (simplified grid) */
const keyMat = new THREE.MeshStandardMaterial({ color: 0x1c1c1c, roughness: 0.6 });
for (let x = -1.2; x <= 1.2; x += 0.3) {
    for (let z = -0.7; z <= -0.1; z += 0.25) {
        const key = new THREE.Mesh(
            new THREE.BoxGeometry(0.22, 0.02, 0.18),
            keyMat
        );
        key.position.set(x, 0.065, z);
        macbook.add(key);
    }
}

/* Screen */
const video = document.createElement("video");
video.src = "";
video.loop = true;
video.muted = true;
video.autoplay = true;
video.playsInline = true;

const screenMat = new THREE.MeshStandardMaterial({
    map: new THREE.VideoTexture(video),
    emissive: new THREE.Color(0xffffff),
    emissiveIntensity: 0.4,
    roughness: 0.05
});

const screen = new THREE.Mesh(
    new THREE.PlaneGeometry(2.94, 1.91),
    screenMat
);
screen.position.set(0, 1.05, -1.07);

/* Screen back */
const lid = new THREE.Mesh(
    new THREE.BoxGeometry(3.0, 1.95, 0.05),
    aluminum
);
lid.position.set(0, 1.05, -1.12);

/* Screen group */
const lidGroup = new THREE.Group();
lidGroup.add(screen, lid);
lidGroup.rotation.x = -0.92;
macbook.add(lidGroup);

/* Position */
macbook.position.set(1.3, -0.6, 0);
macbook.rotation.y = -0.35;
scene.add(macbook);

/* Animation */
function animate() {
    macbook.rotation.y += 0.0008;
    renderer.render(scene, camera);
    requestAnimationFrame(animate);
}
animate();

/* Resize */
window.addEventListener("resize", () => {
    camera.aspect = container.clientWidth / container.clientHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(container.clientWidth, container.clientHeight);
});
</script>
</body>
</html>
